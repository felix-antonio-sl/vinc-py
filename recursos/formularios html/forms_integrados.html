<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Anexos - Formularios Combinados</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f9f9f9;
      }
      .container {
        max-width: 900px;
        margin: auto;
        background: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 40px;
      }
      h1,
      h2,
      h3,
      h4,
      h5 {
        color: #333;
        text-align: center;
      }
      li,
      p {
        font-size: 14px;
        line-height: 1.6;
      }
      hr {
        border: 0;
        height: 1px;
        background: #ddd;
        margin: 20px 0;
      }
      .form-group {
        margin-bottom: 15px;
      }
      label {
        font-weight: 700;
        display: block;
        margin-bottom: 5px;
      }
      input[type="date"],
      input[type="email"],
      input[type="number"],
      input[type="tel"],
      input[type="text"],
      select,
      textarea {
        width: 100%;
        padding: 8px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 14px;
      }
      textarea {
        resize: vertical;
      }
      .radio-group {
        display: flex;
        gap: 20px;
        margin-top: 5px;
      }
      .radio-group label {
        font-weight: 400;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      table,
      td,
      th {
        border: 1px solid #ccc;
      }
      td,
      th {
        padding: 10px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
      .submit-btn {
        background-color: #007bff;
        color: #fff;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        display: block;
        margin: 30px auto 0;
      }
      .submit-btn:hover {
        background-color: #0056b3;
      }
      .required::after {
        content: " *";
        color: red;
      }
      .small-text {
        font-size: 12px;
        color: #666;
      }
      .navigation {
        background-color: #007bff;
        padding: 10px;
        margin-bottom: 20px;
      }
      .navigation ul {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
        padding: 0;
        margin: 0;
      }
      .navigation ul li {
        margin: 0;
      }
      .navigation ul li a {
        color: #fff;
        text-decoration: none;
        font-weight: bold;
      }
      .navigation ul li a:hover {
        text-decoration: underline;
      }
      /* Additional styles specific to forms or elements can be added here */
    </style>
  </head>
  <body>
    <!-- Navigation Menu -->
    <div class="navigation">
      <ul>
        <li><a href="#anexo1">Anexo N°1</a></li>
        <li><a href="#anexo2">Anexo N°2</a></li>
        <li><a href="#anexo3">Anexo N°3</a></li>
        <li><a href="#anexo4">Anexo N°4</a></li>
        <li><a href="#anexo4b">Anexo N°4.B</a></li>
        <li><a href="#anexo5">Anexo N°5</a></li>
        <li><a href="#anexo6">Anexo N°6</a></li>
        <li><a href="#anexo7">Anexo N°7</a></li>
        <li><a href="#anexo8">Anexo N°8</a></li>
      </ul>
    </div>

    <!-- Anexo N°1 -->
    <div id="anexo1" class="container">
      <h1>ANEXO N°1 (OBLIGATORIO)</h1>
      <h2>INFORME EJECUTIVO RENDICIÓN DE SUBVENCIÓN FNDR 8%</h2>
      <h3>A:</h3>
      <p>
        DIVISIÓN DE DESARROLLO SOCIAL Y HUMANO – DIVISIÓN DE ADMINISTRACIÓN Y
        FINANZAS
      </p>
      <h3>DE:</h3>
      <p>
        Adjunto se remite rendición de cuenta y respaldos pertinentes de la
        siguiente iniciativa financiada por el Fondo 8% FNDR Gobierno Regional
        de Ñuble:
      </p>
      <hr />
      <form action="#" method="POST">
        <h3><strong>Fecha de presentación del informe:</strong></h3>
        <div class="inline-group">
          <div class="form-group">
            <label for="dia">Día<span class="required"></span></label>
            <input
              type="number"
              id="dia"
              name="dia"
              min="1"
              max="31"
              required
            />
          </div>
          <div class="form-group">
            <label for="mes">Mes<span class="required"></span></label>
            <select id="mes" name="mes" required>
              <option value="">Seleccione</option>
              <option value="enero">Enero</option>
              <option value="febrero">Febrero</option>
              <option value="marzo">Marzo</option>
              <option value="abril">Abril</option>
              <option value="mayo">Mayo</option>
              <option value="junio">Junio</option>
              <option value="julio">Julio</option>
              <option value="agosto">Agosto</option>
              <option value="septiembre">Septiembre</option>
              <option value="octubre">Octubre</option>
              <option value="noviembre">Noviembre</option>
              <option value="diciembre">Diciembre</option>
            </select>
          </div>
          <div class="form-group">
            <label for="anio">Año<span class="required"></span></label>
            <input
              type="number"
              id="anio"
              name="anio"
              min="2000"
              max="2100"
              required
            />
          </div>
        </div>
        <h3><strong>Período de ejecución:</strong></h3>
        <div class="inline-group">
          <div class="form-group">
            <label for="desde"
              >Desde (día-mes-año)<span class="required"></span
            ></label>
            <input type="date" id="desde" name="desde" required />
          </div>
          <div class="form-group">
            <label for="hasta"
              >Hasta (día-mes-año)<span class="required"></span
            ></label>
            <input type="date" id="hasta" name="hasta" required />
          </div>
        </div>
        <hr />
        <h3><strong>Identificación de la iniciativa</strong></h3>
        <p><strong>Marcar con X según corresponda:</strong></p>
        <div class="form-group">
          <label for="codigo_subvencion"
            >Código de subvención FNDR<span class="required"></span
          ></label>
          <input
            type="text"
            id="codigo_subvencion"
            name="codigo_subvencion"
            placeholder="Ejemplo: 2301AM0001"
            required
          />
          <small>Informado en Convenio de Transferencia de recursos</small>
        </div>
        <div class="form-group">
          <label for="tipo_subvencion"
            >Tipo de subvención<span class="required"></span
          ></label>
          <select id="tipo_subvencion" name="tipo_subvencion" required>
            <option value="">Seleccione</option>
            <option value="tipo1">Tipo 1</option>
            <option value="tipo2">Tipo 2</option>
            <!-- Add more options as needed -->
          </select>
        </div>
        <div class="form-group">
          <label for="nombre_iniciativa"
            >Nombre de la iniciativa<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_iniciativa"
            name="nombre_iniciativa"
            required
          />
        </div>
        <div class="form-group">
          <label>Año de aprobación del financiamiento:</label>
          <input type="number" value="2024" readonly="readonly" />
        </div>
        <div class="form-group">
          <label for="institucion_responsable"
            >Institución responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="institucion_responsable"
            name="institucion_responsable"
            required
          />
        </div>
        <div class="form-group">
          <label for="representante_legal"
            >Representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="representante_legal"
            name="representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="telefono_representante"
            >Teléfono de contacto representante legal<span
              class="required"
            ></span
          ></label>
          <input
            type="tel"
            id="telefono_representante"
            name="telefono_representante"
            pattern="[0-9]{9,15}"
            required
          />
          <small>Ingrese un número válido</small>
        </div>
        <div class="form-group">
          <label for="correo_representante"
            >Correo electrónico representante legal<span class="required"></span
          ></label>
          <input
            type="email"
            id="correo_representante"
            name="correo_representante"
            required
          />
        </div>
        <div class="form-group">
          <label for="nombre_encargado"
            >Nombre encargado de rendición<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_encargado"
            name="nombre_encargado"
            required
          />
        </div>
        <div class="form-group">
          <label for="correo_encargado"
            >Correo electrónico encargado rendición<span class="required"></span
          ></label>
          <input
            type="email"
            id="correo_encargado"
            name="correo_encargado"
            required
          />
        </div>
        <div class="inline-group">
          <div class="form-group">
            <label for="monto_aprobado"
              >Monto aprobado subvención FNDR ($)<span class="required"></span
            ></label>
            <input
              type="number"
              id="monto_aprobado"
              name="monto_aprobado"
              min="0"
              step="0.01"
              required
            />
          </div>
          <div class="form-group">
            <label for="monto_rendicion"
              >Monto de la presente rendición ($)<span class="required"></span
            ></label>
            <input
              type="number"
              id="monto_rendicion"
              name="monto_rendicion"
              min="0"
              step="0.01"
              required
            />
          </div>
        </div>
        <hr />
        <div class="form-group">
          <label for="nombre_representante"
            >Nombre representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante"
            name="nombre_representante"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre"
            >Firma y timbre<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre"
            name="firma_timbre"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">Enviar Rendición</button>
      </form>
    </div>

    <!-- Anexo 2 -->
    <div id="anexo2" class="container">
      <h1>ANEXO N°2 (OBLIGATORIO)</h1>
      <h2>INFORME FINANCIERO RENDICIÓN DE SUBVENCIÓN FNDR 8%</h2>
      <h3>1. Adjuntar:</h3>
      <p>
        Copia de libreta bancaria o cartola que refleje la transferencia en la
        cuenta de la institución.
      </p>
      <hr />
      <h3>2. Resumen financiero de la presente rendición (en pesos $):</h3>
      <table>
        <thead>
          <tr>
            <th>Detalle del ítem</th>
            <th>Monto aprobado</th>
            <th>Monto de la presente rendición</th>
            <th>Saldo ($)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>01 - Gastos honorarios</td>
            <td>
              <input
                type="number"
                name="gastos_honorarios_aprobado"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input
                type="number"
                name="gastos_honorarios_rendicion"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input type="number" name="gastos_honorarios_saldo" readonly />
            </td>
          </tr>
          <tr>
            <td>02 - Gastos equipamiento</td>
            <td>
              <input
                type="number"
                name="gastos_equipamiento_aprobado"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input
                type="number"
                name="gastos_equipamiento_rendicion"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input type="number" name="gastos_equipamiento_saldo" readonly />
            </td>
          </tr>
          <tr>
            <td>03 - Gastos de gestión y producción</td>
            <td>
              <input
                type="number"
                name="gastos_gestion_aprobado"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input
                type="number"
                name="gastos_gestion_rendicion"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input type="number" name="gastos_gestion_saldo" readonly />
            </td>
          </tr>
          <tr>
            <td>04 - Gastos de difusión</td>
            <td>
              <input
                type="number"
                name="gastos_difusion_aprobado"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input
                type="number"
                name="gastos_difusion_rendicion"
                min="0"
                step="0.01"
                required
              />
            </td>
            <td>
              <input type="number" name="gastos_difusion_saldo" readonly />
            </td>
          </tr>
          <tr>
            <td><strong>Totales</strong></td>
            <td><input type="number" name="totales_aprobado" readonly /></td>
            <td><input type="number" name="totales_rendicion" readonly /></td>
            <td><input type="number" name="totales_saldo" readonly /></td>
          </tr>
        </tbody>
      </table>
      <hr />
      <h3>3. Detalle por documento rendido:</h3>
      <table>
        <thead>
          <tr>
            <th>Ítem que corresponde</th>
            <th>N° de factura/boleta</th>
            <th>Fecha</th>
            <th>Detalle del gasto (según presupuesto aprobado)</th>
            <th>Monto (en pesos)</th>
          </tr>
        </thead>
        <tbody id="detalle-documentos">
          <tr>
            <td><input type="text" name="detalle_corresponde[]" required /></td>
            <td><input type="text" name="numero_factura[]" required /></td>
            <td><input type="date" name="fecha_factura[]" required /></td>
            <td><input type="text" name="detalle_gasto[]" required /></td>
            <td>
              <input
                type="number"
                name="monto_gasto[]"
                min="0"
                step="0.01"
                required
              />
            </td>
          </tr>
        </tbody>
      </table>
      <button type="button" onclick="agregarFilaDetalle()">Agregar Fila</button>
      <hr />
      <h3>4. Documentos importantes a considerar y que se deben adjuntar:</h3>
      <ul>
        <li>Factura y/o boleta de honorarios según corresponda.</li>
        <li>
          Formulario 29 del SII de boleta de honorarios según corresponda.
        </li>
        <li>
          Comprobante de egreso (voucher o comprobante de depósito, formato tipo
          o factura que señale con timbrado de “CANCELADO” o “PAGADO” con la
          fecha de pago en caso de que la factura venga a crédito).
        </li>
      </ul>
      <hr />
      <h2>5. Reintegro de saldo de recursos:</h2>
      <div class="form-group">
        <label for="nombre_iniciativa_reintegro"
          >Nombre de la iniciativa<span class="required"></span
        ></label>
        <input
          type="text"
          id="nombre_iniciativa_reintegro"
          name="nombre_iniciativa_reintegro"
          required
        />
      </div>
      <div class="form-group">
        <label for="codigo_fndr_reintegro"
          >Código FNDR<span class="required"></span
        ></label>
        <input
          type="text"
          id="codigo_fndr_reintegro"
          name="codigo_fndr_reintegro"
          required
        />
      </div>
      <div class="form-group">
        <label for="organizacion_responsable_reintegro"
          >Organización responsable<span class="required"></span
        ></label>
        <input
          type="text"
          id="organizacion_responsable_reintegro"
          name="organizacion_responsable_reintegro"
          required
        />
      </div>
      <div class="form-group">
        <label for="rut_organizacion_reintegro"
          >RUT organización<span class="required"></span
        ></label>
        <input
          type="text"
          id="rut_organizacion_reintegro"
          name="rut_organizacion_reintegro"
          required
        />
      </div>
      <div class="form-group">
        <label for="rut_representante_reintegro"
          >RUT representante legal<span class="required"></span
        ></label>
        <input
          type="text"
          id="rut_representante_reintegro"
          name="rut_representante_reintegro"
          required
        />
      </div>
      <div class="form-group">
        <label for="fecha_transferencia_reintegro"
          >Fecha de transferencia<span class="required"></span
        ></label>
        <input
          type="date"
          id="fecha_transferencia_reintegro"
          name="fecha_transferencia_reintegro"
          required
        />
      </div>
      <hr />
      <h3>Resumen general:</h3>
      <table>
        <thead>
          <tr>
            <th>Detalle</th>
            <th>Monto</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Monto transferido</td>
            <td>
              <input
                type="number"
                name="monto_transferido"
                min="0"
                step="0.01"
                required
              />
            </td>
          </tr>
          <tr>
            <td>Total rendido</td>
            <td>
              <input
                type="number"
                name="total_rendido"
                min="0"
                step="0.01"
                required
              />
            </td>
          </tr>
          <tr>
            <td>Total monto a reintegrar</td>
            <td>
              <input
                type="number"
                name="total_reintegrar"
                min="0"
                step="0.01"
                required
              />
            </td>
          </tr>
          <tr>
            <td><strong>Saldo final</strong></td>
            <td><input type="number" name="saldo_final" readonly /></td>
          </tr>
        </tbody>
      </table>
      <hr />
      <h3>
        Para aquellos proyectos que presenten monto a reintegrar por gastos
        rechazados y/o saldo no ejecutado, se solicita depositar dichos recursos
        en:
      </h3>
      <div class="form-group">
        <label for="banco_reintegro">Banco:</label>
        <input
          type="text"
          id="banco_reintegro"
          name="banco_reintegro"
          value="Estado"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="cuenta_corriente_reintegro">Cuenta corriente:</label>
        <input
          type="text"
          id="cuenta_corriente_reintegro"
          name="cuenta_corriente_reintegro"
          value="N° 52109000477"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="gobierno_regional_reintegro"
          >Gobierno Regional de Ñuble:</label
        >
        <input
          type="text"
          id="gobierno_regional_reintegro"
          name="gobierno_regional_reintegro"
          value="Gobierno Regional de Ñuble"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="rut_gobierno_reintegro">RUT:</label>
        <input
          type="text"
          id="rut_gobierno_reintegro"
          name="rut_gobierno_reintegro"
          value="62.000.390-5"
          readonly
        />
      </div>
      <hr />
      <div class="form-group">
        <label for="motivos_reintegro">Motivos por reintegro:</label>
        <textarea
          id="motivos_reintegro"
          name="motivos_reintegro"
          rows="4"
          required
        ></textarea>
      </div>
      <hr />
      <div class="form-group">
        <label for="nombre_representante_legal"
          >Nombre representante legal<span class="required"></span
        ></label>
        <input
          type="text"
          id="nombre_representante_legal"
          name="nombre_representante_legal"
          required
        />
      </div>
      <div class="form-group">
        <label for="firma_timbre_representante"
          >Firma y timbre<span class="required"></span
        ></label>
        <input
          type="file"
          id="firma_timbre_representante"
          name="firma_timbre_representante"
          accept="image/*,application/pdf"
          required
        />
        <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
      </div>
      <p>
        <strong>Nota:</strong> Se deben adjuntar copia de comprobante de
        transferencia al Gobierno Regional de Ñuble.
      </p>
      <hr />
      <h2>6. Comprobante de egreso de gastos a crédito:</h2>
      <p>
        <strong
          >(Para facturas que en su forma de pago aparezca CRÉDITO)</strong
        >
      </p>
      <p>
        Es obligatorio para entidades privadas para cada transferencia, compra o
        adquisición de servicios recibida. Sólo puede ser reemplazado por
        facturas emitidas con timbre de “Cancelado” o “Pagado” cuyo tipo de pago
        contenga al crédito.
      </p>
      <p>
        Este documento deberá ser adjuntado con la factura que corresponda al
        gasto desembolsado por parte de la institución responsable.
      </p>
      <hr />
      <h3>Datos del proveedor y detalles del gasto:</h3>
      <div class="form-group">
        <label for="nombre_proveedor"
          >Nombre del proveedor<span class="required"></span
        ></label>
        <input
          type="text"
          id="nombre_proveedor"
          name="nombre_proveedor"
          required
        />
      </div>
      <div class="form-group">
        <label for="rut_proveedor"
          >RUT del proveedor<span class="required"></span
        ></label>
        <input type="text" id="rut_proveedor" name="rut_proveedor" required />
      </div>
      <div class="form-group">
        <label for="numero_factura_credito"
          >N° factura<span class="required"></span
        ></label>
        <input
          type="text"
          id="numero_factura_credito"
          name="numero_factura_credito"
          required
        />
      </div>
      <div class="form-group">
        <label for="institucion_responsable_credito"
          >Institución responsable<span class="required"></span
        ></label>
        <input
          type="text"
          id="institucion_responsable_credito"
          name="institucion_responsable_credito"
          required
        />
      </div>
      <div class="form-group">
        <label for="representante_legal_credito"
          >Representante legal<span class="required"></span
        ></label>
        <input
          type="text"
          id="representante_legal_credito"
          name="representante_legal_credito"
          required
        />
      </div>
      <div class="form-group">
        <label for="fecha_compra_credito"
          >Fecha de compra o adquisición del producto<span
            class="required"
          ></span
        ></label>
        <input
          type="date"
          id="fecha_compra_credito"
          name="fecha_compra_credito"
          required
        />
      </div>
      <div class="form-group">
        <label for="detalle_producto_credito"
          >Detalle del producto<span class="required"></span
        ></label>
        <input
          type="text"
          id="detalle_producto_credito"
          name="detalle_producto_credito"
          required
        />
      </div>
      <div class="form-group">
        <label for="item_corresponde_credito"
          >Ítem al cual corresponde<span class="required"></span
        ></label>
        <input
          type="text"
          id="item_corresponde_credito"
          name="item_corresponde_credito"
          required
        />
      </div>
      <hr />
      <p>
        Quien (es) suscribe(n) el presente documento, declara(n) haber recibido
        conforme por parte de la institución responsable el monto de $<input
          type="number"
          name="monto_recibido"
          min="0"
          step="0.01"
          required
        />, para la compra o adquisición del producto o servicio anteriormente
        señalado.
      </p>
      <hr />
      <h3>Firmas:</h3>
      <div class="form-group">
        <label for="firma_proveedor"
          >Firma y timbre proveedor de producto o servicio<span
            class="required"
          ></span
        ></label>
        <input
          type="file"
          id="firma_proveedor"
          name="firma_proveedor"
          accept="image/*,application/pdf"
          required
        />
        <small>Suba la firma y timbre en formato JPG, PNG o PDF</small>
      </div>
      <div class="form-group">
        <label for="firma_representante"
          >Firma y timbre representante legal<span class="required"></span
        ></label>
        <input
          type="file"
          id="firma_representante"
          name="firma_representante"
          accept="image/*,application/pdf"
          required
        />
        <small>Suba la firma y timbre en formato JPG, PNG o PDF</small>
      </div>
      <hr />
      <button type="submit" class="submit-btn">
        Enviar Informe Financiero
      </button>
    </div>

    <script>
      // Función para agregar filas en el detalle de documentos
      function agregarFilaDetalle() {
        const tableBody = document.getElementById("detalle-documentos");
        const newRow = document.createElement("tr");
        newRow.innerHTML = `
            <td><input type="text" name="detalle_corresponde[]" required></td>
            <td><input type="text" name="numero_factura[]" required></td>
            <td><input type="date" name="fecha_factura[]" required></td>
            <td><input type="text" name="detalle_gasto[]" required></td>
            <td><input type="number" name="monto_gasto[]" min="0" step="0.01" required></td>
        `;
        tableBody.appendChild(newRow);
      }

      // Función para calcular los saldos y totales
      function calcularTotalesAnexo2() {
        const items = [
          "gastos_honorarios",
          "gastos_equipamiento",
          "gastos_gestion",
          "gastos_difusion",
        ];
        let totalAprobado = 0;
        let totalRendido = 0;

        items.forEach((item) => {
          const aprobado =
            parseFloat(
              document.querySelector(`input[name="${item}_aprobado"]`).value
            ) || 0;
          const rendido =
            parseFloat(
              document.querySelector(`input[name="${item}_rendicion"]`).value
            ) || 0;
          const saldo = aprobado - rendido;

          document.querySelector(`input[name="${item}_saldo"]`).value =
            saldo.toFixed(2);
          totalAprobado += aprobado;
          totalRendido += rendido;
        });

        document.querySelector('input[name="totales_aprobado"]').value =
          totalAprobado.toFixed(2);
        document.querySelector('input[name="totales_rendicion"]').value =
          totalRendido.toFixed(2);
        document.querySelector('input[name="totales_saldo"]').value = (
          totalAprobado - totalRendido
        ).toFixed(2);
      }

      // Eventos para recalcular totales al cambiar los valores
      document
        .querySelectorAll('input[name$="_aprobado"], input[name$="_rendicion"]')
        .forEach((input) => {
          input.addEventListener("input", calcularTotalesAnexo2);
        });

      // Función para calcular saldo final en reintegro
      function calcularSaldoFinal() {
        const montoTransferido =
          parseFloat(
            document.querySelector('input[name="monto_transferido"]').value
          ) || 0;
        const totalRendido =
          parseFloat(
            document.querySelector('input[name="total_rendido"]').value
          ) || 0;
        const totalReintegrar =
          parseFloat(
            document.querySelector('input[name="total_reintegrar"]').value
          ) || 0;

        const saldoFinal = montoTransferido - totalRendido - totalReintegrar;
        document.querySelector('input[name="saldo_final"]').value =
          saldoFinal.toFixed(2);
      }

      // Eventos para recalcular saldo final al cambiar los valores
      document
        .querySelectorAll(
          'input[name="monto_transferido"], input[name="total_rendido"], input[name="total_reintegrar"]'
        )
        .forEach((input) => {
          input.addEventListener("input", calcularSaldoFinal);
        });
    </script>

    <!-- Anexo 3  -->
    <div id="anexo3" class="container">
      <h1>ANEXO N°3 (OBLIGATORIO)</h1>
      <h2>MEDIOS DE VERIFICACIÓN DE EJECUCIÓN DE INICIATIVA</h2>
      <p>
        Adjuntar imágenes, audios, videos, entre otros, según correspondan, que
        evidencien la correcta ejecución de la iniciativa en los ítems de
        Honorarios, Equipamiento, Gestión y Producción y Difusión.
      </p>
      <form action="#" method="POST" enctype="multipart/form-data">
        <table>
          <thead>
            <tr>
              <th>Medio de Verificación</th>
              <th>Sí</th>
              <th>No</th>
              <th>Adjuntar Archivo</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Imágenes</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_imagenes"
                  value="si"
                  onclick='toggleFileInput("imagenes")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_imagenes"
                  value="no"
                  onclick='toggleFileInput("imagenes")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="imagenes"
                  name="imagenes[]"
                  accept="image/*"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Fotografías</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_fotografias"
                  value="si"
                  onclick='toggleFileInput("fotografias")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_fotografias"
                  value="no"
                  onclick='toggleFileInput("fotografias")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="fotografias"
                  name="fotografias[]"
                  accept="image/*"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Facturas</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_facturas"
                  value="si"
                  onclick='toggleFileInput("facturas")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_facturas"
                  value="no"
                  onclick='toggleFileInput("facturas")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="facturas"
                  name="facturas[]"
                  accept=".pdf,.jpg,.png"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Boletas de Honorarios</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_boletas"
                  value="si"
                  onclick='toggleFileInput("boletas")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_boletas"
                  value="no"
                  onclick='toggleFileInput("boletas")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="boletas"
                  name="boletas[]"
                  accept=".pdf,.jpg,.png"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Listados de Asistencias</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_listados"
                  value="si"
                  onclick='toggleFileInput("listados")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_listados"
                  value="no"
                  onclick='toggleFileInput("listados")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="listados"
                  name="listados[]"
                  accept=".pdf,.jpg,.png"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Videos</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_videos"
                  value="si"
                  onclick='toggleFileInput("videos")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_videos"
                  value="no"
                  onclick='toggleFileInput("videos")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="videos"
                  name="videos[]"
                  accept="video/*"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>Audios (ej. Difusión radial)</td>
              <td>
                <input
                  type="radio"
                  name="verificacion_audios"
                  value="si"
                  onclick='toggleFileInput("audios")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_audios"
                  value="no"
                  onclick='toggleFileInput("audios")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="audios"
                  name="audios[]"
                  accept="audio/*"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
            <tr>
              <td>
                Otros:
                <input
                  type="text"
                  id="otros_text"
                  name="otros_text"
                  placeholder="Especificar"
                />
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_otros"
                  value="si"
                  onclick='toggleFileInput("otros")'
                />
                Sí
              </td>
              <td>
                <input
                  type="radio"
                  name="verificacion_otros"
                  value="no"
                  onclick='toggleFileInput("otros")'
                />
                No
              </td>
              <td>
                <input
                  type="file"
                  id="otros"
                  name="otros[]"
                  accept=".pdf,.jpg,.png,audio/*,video/*"
                  class="hidden"
                  multiple
                />
              </td>
            </tr>
          </tbody>
        </table>
        <hr />
        <div class="form-group">
          <label for="nombre_representante_legal"
            >Nombre Representante Legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_legal"
            name="nombre_representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre_representante"
            >Firma y Timbre Representante Legal<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre_representante"
            name="firma_timbre_representante"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">
          Enviar Medios de Verificación
        </button>
      </form>
    </div>

    <script>
      function toggleFileInput(id) {
        const fileInput = document.getElementById(id);
        const radioYes = document.querySelector(
          `input[name="verificacion_${id}"][value="si"]`
        );
        if (radioYes.checked) {
          fileInput.classList.remove("hidden");
          fileInput.required = true;
        } else {
          fileInput.classList.add("hidden");
          fileInput.value = "";
          fileInput.required = false;
        }
      }

      // Inicializar los campos de archivo según las opciones seleccionadas
      document.addEventListener("DOMContentLoaded", () => {
        const verificationMethods = [
          "imagenes",
          "fotografias",
          "facturas",
          "boletas",
          "listados",
          "videos",
          "audios",
          "otros",
        ];

        verificationMethods.forEach((id) => {
          const radioYes = document.querySelector(
            `input[name="verificacion_${id}"][value="si"]`
          );
          if (radioYes && radioYes.checked) {
            toggleFileInput(id);
          }
        });
      });
    </script>

    <!-- Anexo 4 -->
    <div id="anexo4" class="container">
      <h1>ANEXO N°4 (OBLIGATORIO)</h1>
      <h2>INFORME DE ACTIVIDADES DE HONORARIOS</h2>
      <p>
        Corresponde a informe de actividades realizadas por profesores,
        monitores, coordinadores, técnicos, entrenadores, etc., según contrato
        y/o acuerdo suscrito con la organización o entidad pública.
      </p>
      <form action="#" method="POST" enctype="multipart/form-data">
        <h3>Datos Generales:</h3>
        <div class="form-group">
          <label for="codigo_fndr"
            >Código FNDR<span class="required"></span
          ></label>
          <input type="text" id="codigo_fndr" name="codigo_fndr" required />
        </div>
        <div class="form-group">
          <label for="institucion_responsable"
            >Institución responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="institucion_responsable"
            name="institucion_responsable"
            required
          />
        </div>
        <hr />
        <h3>Actividades:</h3>
        <div id="actividades-container">
          <div class="actividad">
            <div class="section-header">
              <h4>Actividad 1</h4>
              <button
                type="button"
                class="remove-section-btn"
                onclick="eliminarActividad(this)"
              >
                Eliminar
              </button>
            </div>
            <div class="form-group">
              <label for="nombre_actividad[]"
                >Nombre de la Actividad<span class="required"></span
              ></label>
              <input type="text" name="nombre_actividad[]" required />
            </div>
            <div class="form-group">
              <label for="lugar_actividad[]"
                >Lugar<span class="required"></span
              ></label>
              <input type="text" name="lugar_actividad[]" required />
            </div>
            <div class="form-group">
              <label for="fecha_actividad[]"
                >Fecha<span class="required"></span
              ></label>
              <input type="date" name="fecha_actividad[]" required />
            </div>
            <h4>Profesionales Participantes:</h4>
            <table class="profesionales-table">
              <thead>
                <tr>
                  <th>Nombres y Apellidos</th>
                  <th>RUT</th>
                  <th>Rol</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <input type="text" name="profesional_nombre_0[]" required />
                  </td>
                  <td>
                    <input type="text" name="profesional_rut_0[]" required />
                  </td>
                  <td>
                    <input type="text" name="profesional_rol_0[]" required />
                  </td>
                  <td>
                    <button
                      type="button"
                      class="remove-row-btn"
                      onclick="eliminarFila(this)"
                    >
                      Eliminar
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
            <button
              type="button"
              class="add-row-btn"
              onclick="agregarFilaProfesional(this)"
            >
              Agregar Profesional
            </button>
            <div class="form-group">
              <label
                >Resumen de la Actividad<span class="required"></span
              ></label>
              <textarea name="resumen_actividad[]" rows="5" required></textarea>
            </div>
            <h4>Nómina de Beneficiarios(as) Directos:</h4>
            <table class="beneficiarios-table">
              <thead>
                <tr>
                  <th>N°</th>
                  <th>Nombres y Apellidos</th>
                  <th>RUT</th>
                  <th>Teléfono</th>
                  <th>Firma</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>
                    <input
                      type="text"
                      name="beneficiario_nombre_0[]"
                      required
                    />
                  </td>
                  <td>
                    <input type="text" name="beneficiario_rut_0[]" required />
                  </td>
                  <td>
                    <input
                      type="tel"
                      name="beneficiario_telefono_0[]"
                      pattern="[0-9]{9,15}"
                      required
                    />
                  </td>
                  <td>
                    <input
                      type="file"
                      name="beneficiario_firma_0[]"
                      accept="image/*,application/pdf"
                      required
                    />
                  </td>
                  <td>
                    <button
                      type="button"
                      class="remove-row-btn"
                      onclick="eliminarFila(this)"
                    >
                      Eliminar
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
            <button
              type="button"
              class="add-row-btn"
              onclick="agregarFilaBeneficiario(this)"
            >
              Agregar Beneficiario
            </button>
          </div>
        </div>
        <button
          type="button"
          class="add-section-btn"
          onclick="agregarActividad()"
        >
          Agregar Actividad
        </button>
        <hr />
        <p>
          <strong>Nota:</strong> Adjunte las copias necesarias para completar la
          totalidad de la entrega.
        </p>
        <div class="form-group">
          <label for="nombre_firma_prestador"
            >Nombre y firma del prestador del servicio (Opcional el
            timbre):</label
          >
          <input
            type="text"
            id="nombre_firma_prestador"
            name="nombre_firma_prestador"
          />
        </div>
        <div class="form-group">
          <label for="nombre_firma_representante"
            >Nombre, firma y timbre representante legal<span
              class="required"
            ></span
          ></label>
          <input
            type="text"
            id="nombre_firma_representante"
            name="nombre_firma_representante"
            required
          />
          <input
            type="file"
            id="firma_timbre_representante"
            name="firma_timbre_representante"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">
          Enviar Informe de Actividades
        </button>
      </form>
    </div>

    <script>
      let actividadIndex = 0;

      function agregarActividad() {
        actividadIndex++;
        const actividadesContainer = document.getElementById(
          "actividades-container"
        );
        const actividadCount =
          actividadesContainer.getElementsByClassName("actividad").length + 1;

        const actividadDiv = document.createElement("div");
        actividadDiv.classList.add("actividad");
        actividadDiv.innerHTML = `
            <div class="section-header">
                <h4>Actividad ${actividadCount}</h4>
                <button type="button" class="remove-section-btn" onclick="eliminarActividad(this)">Eliminar</button>
            </div>
            <div class="form-group">
                <label for="nombre_actividad[]">Nombre de la Actividad<span class="required"></span></label>
                <input type="text" name="nombre_actividad[]" required>
            </div>
            <div class="form-group">
                <label for="lugar_actividad[]">Lugar<span class="required"></span></label>
                <input type="text" name="lugar_actividad[]" required>
            </div>
            <div class="form-group">
                <label for="fecha_actividad[]">Fecha<span class="required"></span></label>
                <input type="date" name="fecha_actividad[]" required>
            </div>
            <h4>Profesionales Participantes:</h4>
            <table class="profesionales-table">
                <thead>
                    <tr>
                        <th>Nombres y Apellidos</th>
                        <th>RUT</th>
                        <th>Rol</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" name="profesional_nombre_${actividadIndex}[]" required></td>
                        <td><input type="text" name="profesional_rut_${actividadIndex}[]" required></td>
                        <td><input type="text" name="profesional_rol_${actividadIndex}[]" required></td>
                        <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="add-row-btn" onclick="agregarFilaProfesional(this)">Agregar Profesional</button>
            <div class="form-group">
                <label>Resumen de la Actividad<span class="required"></span></label>
                <textarea name="resumen_actividad[]" rows="5" required></textarea>
            </div>
            <h4>Nómina de Beneficiarios(as) Directos:</h4>
            <table class="beneficiarios-table">
                <thead>
                    <tr>
                        <th>N°</th>
                        <th>Nombres y Apellidos</th>
                        <th>RUT</th>
                        <th>Teléfono</th>
                        <th>Firma</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><input type="text" name="beneficiario_nombre_${actividadIndex}[]" required></td>
                        <td><input type="text" name="beneficiario_rut_${actividadIndex}[]" required></td>
                        <td><input type="tel" name="beneficiario_telefono_${actividadIndex}[]" pattern="[0-9]{9,15}" required></td>
                        <td><input type="file" name="beneficiario_firma_${actividadIndex}[]" accept="image/*,application/pdf" required></td>
                        <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="add-row-btn" onclick="agregarFilaBeneficiario(this)">Agregar Beneficiario</button>
        `;
        actividadesContainer.appendChild(actividadDiv);
        actualizarActividadHeaders();
      }

      function eliminarActividad(button) {
        const actividadDiv = button.parentElement.parentElement;
        actividadDiv.remove();
        actualizarActividadHeaders();
      }

      function actualizarActividadHeaders() {
        const actividades = document
          .getElementById("actividades-container")
          .getElementsByClassName("actividad");
        for (let i = 0; i < actividades.length; i++) {
          const header = actividades[i].querySelector(".section-header h4");
          header.textContent = `Actividad ${i + 1}`;
        }
      }

      function agregarFilaProfesional(button) {
        const profesionalesTable = button.previousElementSibling;
        const tbody = profesionalesTable.querySelector("tbody");
        const actividadDiv = button.closest(".actividad");
        const actividadTables = Array.from(
          document
            .getElementById("actividades-container")
            .getElementsByClassName("actividad")
        );
        const actividadIndexLocal = actividadTables.indexOf(actividadDiv);
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
            <td><input type="text" name="profesional_nombre_${actividadIndexLocal}[]" required></td>
            <td><input type="text" name="profesional_rut_${actividadIndexLocal}[]" required></td>
            <td><input type="text" name="profesional_rol_${actividadIndexLocal}[]" required></td>
            <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
        `;
        tbody.appendChild(newRow);
      }

      function agregarFilaBeneficiario(button) {
        const beneficiariosTable = button.previousElementSibling;
        const tbody = beneficiariosTable.querySelector("tbody");
        const actividadDiv = button.closest(".actividad");
        const actividadTables = Array.from(
          document
            .getElementById("actividades-container")
            .getElementsByClassName("actividad")
        );
        const actividadIndexLocal = actividadTables.indexOf(actividadDiv);
        const rowCount = tbody.rows.length + 1;
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
            <td>${rowCount}</td>
            <td><input type="text" name="beneficiario_nombre_${actividadIndexLocal}[]" required></td>
            <td><input type="text" name="beneficiario_rut_${actividadIndexLocal}[]" required></td>
            <td><input type="tel" name="beneficiario_telefono_${actividadIndexLocal}[]" pattern="[0-9]{9,15}" required></td>
            <td><input type="file" name="beneficiario_firma_${actividadIndexLocal}[]" accept="image/*,application/pdf" required></td>
            <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
        `;
        tbody.appendChild(newRow);
      }

      function eliminarFila(button) {
        const row = button.parentElement.parentElement;
        const tbody = row.parentElement;
        tbody.removeChild(row);
        actualizarNumeracion(tbody);
      }

      function actualizarNumeracion(tbody) {
        const rows = tbody.getElementsByTagName("tr");
        for (let i = 0; i < rows.length; i++) {
          const cell = rows[i].getElementsByTagName("td")[0];
          if (cell) {
            cell.textContent = i + 1;
          }
        }
      }
    </script>

    <!-- Anexo 4b -->
    <div id="anexo4b" class="container">
      <h1>
        ANEXO N°4.B (OBLIGATORIO EN CASO DE INCURRIR EN EL GASTO DE SERVICIO DE
        TRASLADO)
      </h1>
      <h2>BITÁCORA DE TRASLADO DE BENEFICIARIOS</h2>
      <p>
        Corresponde a personas que reciben el traslado producto de un servicio
        de transporte financiado con fondos del Gobierno Regional, identificados
        con nombre completo, RUT y otros datos. En caso de que este servicio sea
        entregado a menores de edad, deberá firmar un adulto responsable.
      </p>
      <form action="#" method="POST" enctype="multipart/form-data">
        <h3>Datos del Traslado:</h3>
        <div class="form-group">
          <label for="codigo_fndr_traslado"
            >Código FNDR<span class="required"></span
          ></label>
          <input
            type="text"
            id="codigo_fndr_traslado"
            name="codigo_fndr_traslado"
            required
          />
        </div>
        <div class="form-group">
          <label for="institucion_responsable_traslado"
            >Institución responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="institucion_responsable_traslado"
            name="institucion_responsable_traslado"
            required
          />
        </div>
        <div class="form-group">
          <label for="fecha_servicio_traslado"
            >Fecha del servicio<span class="required"></span
          ></label>
          <input
            type="date"
            id="fecha_servicio_traslado"
            name="fecha_servicio_traslado"
            required
          />
        </div>
        <div class="form-group">
          <label for="nombre_proveedor_servicio"
            >Nombre proveedor del servicio<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_proveedor_servicio"
            name="nombre_proveedor_servicio"
            required
          />
        </div>
        <h3>Firmas:</h3>
        <div class="form-group">
          <label for="firma_proveedor_traslado"
            >Firma y timbre proveedor del servicio<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_proveedor_traslado"
            name="firma_proveedor_traslado"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba la firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <div class="form-group">
          <label for="firma_representante_traslado"
            >Firma y timbre representante legal<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_representante_traslado"
            name="firma_representante_traslado"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba la firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <h3>Nómina de Beneficiarios(as) Directos del Traslado:</h3>
        <p>(Agregar tantas filas como sea necesario)</p>
        <table id="beneficiarios-traslado-table">
          <thead>
            <tr>
              <th>N°</th>
              <th>Nombres y Apellidos</th>
              <th>RUT</th>
              <th>Teléfono</th>
              <th>Firma</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>
                <input
                  type="text"
                  name="traslado_beneficiario_nombre[]"
                  required
                />
              </td>
              <td>
                <input
                  type="text"
                  name="traslado_beneficiario_rut[]"
                  required
                />
              </td>
              <td>
                <input
                  type="tel"
                  name="traslado_beneficiario_telefono[]"
                  pattern="[0-9]{9,15}"
                  required
                />
              </td>
              <td>
                <input
                  type="file"
                  name="traslado_beneficiario_firma[]"
                  accept="image/*,application/pdf"
                  required
                />
              </td>
              <td>
                <button
                  type="button"
                  class="remove-row-btn"
                  onclick="eliminarFila(this)"
                >
                  Eliminar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <button
          type="button"
          class="add-row-btn"
          onclick="agregarFilaBeneficiarioTraslado()"
        >
          Agregar Beneficiario de Traslado
        </button>
        <p>
          <strong>Nota:</strong> Adjunte tantas planillas como sean necesarias
          para completar la totalidad de la entrega.
        </p>
        <div class="form-group">
          <label for="nombre_representante_traslado"
            >Nombre representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_traslado"
            name="nombre_representante_traslado"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre_representante_traslado"
            >Firma y Timbre<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre_representante_traslado"
            name="firma_timbre_representante_traslado"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">
          Enviar Bitácora de Traslado
        </button>
      </form>
    </div>

    <script>
      function agregarFilaBeneficiarioTraslado() {
        const tableBody = document
          .getElementById("beneficiarios-traslado-table")
          .getElementsByTagName("tbody")[0];
        const rowCount = tableBody.rows.length + 1;

        const newRow = document.createElement("tr");
        newRow.innerHTML = `
            <td>${rowCount}</td>
            <td><input type="text" name="traslado_beneficiario_nombre[]" required></td>
            <td><input type="text" name="traslado_beneficiario_rut[]" required></td>
            <td><input type="tel" name="traslado_beneficiario_telefono[]" pattern="[0-9]{9,15}" required></td>
            <td><input type="file" name="traslado_beneficiario_firma[]" accept="image/*,application/pdf" required></td>
            <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
        `;
        tableBody.appendChild(newRow);
      }

      function eliminarFila(button) {
        const row = button.parentElement.parentElement;
        const tableBody = row.parentElement;
        tableBody.removeChild(row);
        actualizarNumeracion(tableBody);
      }

      function actualizarNumeracion(tbody) {
        const rows = tbody.getElementsByTagName("tr");
        for (let i = 0; i < rows.length; i++) {
          const cell = rows[i].getElementsByTagName("td")[0];
          cell.textContent = i + 1;
        }
      }
    </script>

    <!-- Anexo N°5 -->
    <div id="anexo5" class="container">
      <h1>ANEXO N°5 (OBLIGATORIO)</h1>
      <h2>ACTA DE INVENTARIO Y RECEPCIÓN DE EQUIPAMIENTO</h2>
      <form action="#" method="POST" enctype="multipart/form-data">
        <h3>Datos del Equipamiento:</h3>
        <div class="form-group">
          <label for="codigo_fndr"
            >Código FNDR<span class="required"></span
          ></label>
          <input type="text" id="codigo_fndr" name="codigo_fndr" required />
        </div>
        <div class="form-group">
          <label for="organizacion_responsable"
            >Organización responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="organizacion_responsable"
            name="organizacion_responsable"
            required
          />
        </div>
        <div class="form-group">
          <label for="item_gasto"
            >Ítem del gasto<span class="required"></span
          ></label>
          <input
            type="text"
            id="item_gasto"
            name="item_gasto"
            value="Gastos de Equipamiento"
            readonly
          />
        </div>
        <h3>Inventario de Equipamiento:</h3>
        <table id="equipamiento-table">
          <thead>
            <tr>
              <th>Cantidad</th>
              <th>Equipamiento</th>
              <th>Dirección donde permanecerá</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <input type="number" name="cantidad[]" min="1" required />
              </td>
              <td><input type="text" name="equipamiento[]" required /></td>
              <td><input type="text" name="direccion[]" required /></td>
              <td>
                <button
                  type="button"
                  class="remove-row-btn"
                  onclick="eliminarFila(this)"
                >
                  Eliminar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <button
          type="button"
          class="add-row-btn"
          onclick="agregarFilaEquipamiento()"
        >
          Agregar Fila
        </button>
        <hr />
        <div class="form-group">
          <label for="nombre_representante_legal"
            >Nombre representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_legal"
            name="nombre_representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre"
            >Firma y Timbre<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre"
            name="firma_timbre"
            accept="image/*,application/pdf"
            required
          />
          <small class="small-text"
            >Suba su firma y timbre en formato JPG, PNG o PDF</small
          >
        </div>
        <hr />
        <button type="submit" class="submit-btn">
          Enviar Acta de Inventario
        </button>
      </form>
    </div>

    <script>
      function agregarFilaEquipamiento() {
        const tableBody = document
          .getElementById("equipamiento-table")
          .getElementsByTagName("tbody")[0];
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
            <td><input type="number" name="cantidad[]" min="1" required></td>
            <td><input type="text" name="equipamiento[]" required></td>
            <td><input type="text" name="direccion[]" required></td>
            <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
        `;
        tableBody.appendChild(newRow);
      }

      function eliminarFila(button) {
        const row = button.parentElement.parentElement;
        row.parentElement.removeChild(row);
      }
    </script>

    <!-- Anexo 6 -->
    <!-- Anexo N°6 -->
    <div id="anexo6" class="container">
      <h1>ANEXO N°6 (OBLIGATORIO)</h1>
      <h2>ACTA DE ENTREGA DE IMPLEMENTACIÓN A TERCEROS</h2>
      <p>
        Corresponde a personas que reciben la implementación básica,
        identificados con nombre completo y RUT. Implementos entregados a
        menores de edad deben ser firmados por un adulto responsable.
      </p>
      <form action="#" method="POST" enctype="multipart/form-data">
        <h3>Datos de la Entrega:</h3>
        <div class="form-group">
          <label for="nombre_iniciativa"
            >Nombre de la iniciativa<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_iniciativa"
            name="nombre_iniciativa"
            required
          />
        </div>
        <div class="form-group">
          <label for="codigo_fndr"
            >Código FNDR<span class="required"></span
          ></label>
          <input type="text" id="codigo_fndr" name="codigo_fndr" required />
        </div>
        <div class="form-group">
          <label for="organizacion_responsable"
            >Organización responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="organizacion_responsable"
            name="organizacion_responsable"
            required
          />
        </div>
        <div class="form-group">
          <label for="numero_fecha_documento"
            >Número y fecha del documento<span class="required"></span
          ></label>
          <input
            type="text"
            id="numero_fecha_documento"
            name="numero_fecha_documento"
            required
          />
        </div>
        <div class="form-group">
          <label for="monto">Monto ($)<span class="required"></span></label>
          <input
            type="number"
            id="monto"
            name="monto"
            min="0"
            step="0.01"
            required
          />
        </div>
        <div class="form-group">
          <label for="fecha_entrega"
            >Fecha de entrega de la implementación<span class="required"></span
          ></label>
          <input type="date" id="fecha_entrega" name="fecha_entrega" required />
        </div>
        <p>
          Se debe adjuntar lista de entrega a beneficiarios en caso que
          corresponda este anexo.
        </p>
        <hr />
        <h3>Lista de Entrega de Implementación a Terceros:</h3>
        <table id="entrega-table">
          <thead>
            <tr>
              <th>N°</th>
              <th>Nombre y Apellidos</th>
              <th>RUT</th>
              <th>Descripción del o los implementos entregados</th>
              <th>Firma conforme</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td><input type="text" name="nombre_apellidos[]" required /></td>
              <td><input type="text" name="rut[]" required /></td>
              <td>
                <input type="text" name="descripcion_implementos[]" required />
              </td>
              <td>
                <input
                  type="file"
                  name="firma_conforme[]"
                  accept="image/*,application/pdf"
                  required
                />
              </td>
              <td>
                <button
                  type="button"
                  class="remove-row-btn"
                  onclick="eliminarFila(this)"
                >
                  Eliminar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <button
          type="button"
          class="add-row-btn"
          onclick="agregarFilaEntrega()"
        >
          Agregar Fila
        </button>
        <hr />
        <p>
          <strong>Nota:</strong> Adjunte cuantas planillas sean necesarias para
          completar la totalidad de la entrega.
        </p>
        <div class="form-group">
          <label for="nombre_representante_legal"
            >Nombre representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_legal"
            name="nombre_representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre"
            >Firma y Timbre<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre"
            name="firma_timbre"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">Enviar Acta de Entrega</button>
      </form>
    </div>

    <script>
      function agregarFilaEntrega() {
        const tableBody = document
          .getElementById("entrega-table")
          .getElementsByTagName("tbody")[0];
        const rowCount = tableBody.rows.length + 1;
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
          <td>${rowCount}</td>
          <td><input type="text" name="nombre_apellidos[]" required></td>
          <td><input type="text" name="rut[]" required></td>
          <td><input type="text" name="descripcion_implementos[]" required></td>
          <td><input type="file" name="firma_conforme[]" accept="image/*,application/pdf" required></td>
          <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
      `;

        tableBody.appendChild(newRow);
      }

      function eliminarFila(button) {
        const row = button.parentElement.parentElement;
        const tbody = row.parentElement;
        tbody.removeChild(row);
        actualizarNumeracion(tbody);
      }

      function actualizarNumeracion(tbody) {
        const rows = tbody.getElementsByTagName("tr");
        for (let i = 0; i < rows.length; i++) {
          const cell = rows[i].getElementsByTagName("td")[0];
          cell.textContent = i + 1;
        }
      }
    </script>

    <!-- Anexo 7 -->
    <!-- Anexo N°7 -->
    <div id="anexo7" class="container">
      <h1>ANEXO N°7 (OBLIGATORIO)</h1>
      <h2>INFORME DE ACTIVIDADES DE PRODUCCIÓN Y DIFUSIÓN</h2>
      <p>
        Corresponde al informe de actividades realizadas en el marco de
        producción y difusión, incluyendo detalles de proveedores, servicios
        contratados y medios utilizados.
      </p>
      <form action="#" method="POST" enctype="multipart/form-data">
        <h3>Datos Generales:</h3>
        <div class="form-group">
          <label for="codigo_fndr"
            >Código FNDR<span class="required"></span
          ></label>
          <input type="text" id="codigo_fndr" name="codigo_fndr" required />
        </div>
        <div class="form-group">
          <label for="institucion_responsable"
            >Institución responsable<span class="required"></span
          ></label>
          <input
            type="text"
            id="institucion_responsable"
            name="institucion_responsable"
            required
          />
        </div>
        <hr />
        <h3>Actividades de Producción y Difusión:</h3>
        <div id="actividades-difusion-container">
          <div class="actividad-difusion">
            <div class="section-header">
              <h4>Actividad 1</h4>
              <button
                type="button"
                class="remove-section-btn"
                onclick="eliminarActividad(this)"
              >
                Eliminar
              </button>
            </div>
            <div class="form-group">
              <label for="nombre_actividad[]"
                >Nombre de la Actividad<span class="required"></span
              ></label>
              <input type="text" name="nombre_actividad[]" required />
            </div>
            <div class="form-group">
              <label for="fecha_actividad[]"
                >Fecha de realización<span class="required"></span
              ></label>
              <input type="date" name="fecha_actividad[]" required />
            </div>
            <div class="form-group">
              <label for="descripcion_actividad[]"
                >Descripción de la actividad<span class="required"></span
              ></label>
              <textarea
                name="descripcion_actividad[]"
                rows="4"
                required
              ></textarea>
            </div>
            <h4>Proveedores y Servicios Contratados:</h4>
            <table class="proveedores-table">
              <thead>
                <tr>
                  <th>Nombre del Proveedor</th>
                  <th>RUT</th>
                  <th>Servicio Prestado</th>
                  <th>Monto ($)</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <input type="text" name="proveedor_nombre_0[]" required />
                  </td>
                  <td>
                    <input type="text" name="proveedor_rut_0[]" required />
                  </td>
                  <td>
                    <input type="text" name="proveedor_servicio_0[]" required />
                  </td>
                  <td>
                    <input
                      type="number"
                      name="proveedor_monto_0[]"
                      min="0"
                      step="0.01"
                      required
                    />
                  </td>
                  <td>
                    <button
                      type="button"
                      class="remove-row-btn"
                      onclick="eliminarFila(this)"
                    >
                      Eliminar
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
            <button
              type="button"
              class="add-row-btn"
              onclick="agregarFilaProveedor(this)"
            >
              Agregar Proveedor
            </button>
            <h4>Medios de Difusión Utilizados:</h4>
            <div class="form-group">
              <label for="medios_difusion[]"
                >Seleccione los medios de difusión utilizados:</label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    name="medios_difusion_0[]"
                    value="Radio"
                  />
                  Radio</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="medios_difusion_0[]"
                    value="Televisión"
                  />
                  Televisión</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="medios_difusion_0[]"
                    value="Prensa Escrita"
                  />
                  Prensa Escrita</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="medios_difusion_0[]"
                    value="Redes Sociales"
                  />
                  Redes Sociales</label
                >
                <label
                  ><input
                    type="checkbox"
                    name="medios_difusion_0[]"
                    value="Otro"
                  />
                  Otro</label
                >
              </div>
            </div>
            <div class="form-group">
              <label for="evidencia_difusion[]"
                >Adjuntar evidencia de la difusión realizada<span
                  class="required"
                ></span
              ></label>
              <input
                type="file"
                name="evidencia_difusion_0[]"
                accept="image/*,application/pdf,audio/*,video/*"
                multiple
                required
              />
              <small
                >Puede adjuntar imágenes, documentos PDF, audios o
                videos.</small
              >
            </div>
          </div>
        </div>
        <button
          type="button"
          class="add-section-btn"
          onclick="agregarActividadDifusion()"
        >
          Agregar Actividad
        </button>
        <hr />
        <p>
          <strong>Nota:</strong> Adjunte las copias necesarias para completar la
          totalidad de la entrega.
        </p>
        <div class="form-group">
          <label for="nombre_representante_legal"
            >Nombre representante legal<span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_legal"
            name="nombre_representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre"
            >Firma y Timbre<span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre"
            name="firma_timbre"
            accept="image/*,application/pdf"
            required
          />
          <small>Suba su firma y timbre en formato JPG, PNG o PDF</small>
        </div>
        <hr />
        <button type="submit" class="submit-btn">
          Enviar Informe de Actividades de Difusión
        </button>
      </form>
    </div>

    <script>
      let actividadDifusionIndex = 0;

      function agregarActividadDifusion() {
        actividadDifusionIndex++;
        const actividadesContainer = document.getElementById(
          "actividades-difusion-container"
        );
        const actividadCount =
          actividadesContainer.getElementsByClassName("actividad-difusion")
            .length + 1;

        const actividadDiv = document.createElement("div");
        actividadDiv.classList.add("actividad-difusion");
        actividadDiv.innerHTML = `
          <div class="section-header">
              <h4>Actividad ${actividadCount}</h4>
              <button type="button" class="remove-section-btn" onclick="eliminarActividad(this)">Eliminar</button>
          </div>
          <div class="form-group">
              <label for="nombre_actividad[]">Nombre de la Actividad<span class="required"></span></label>
              <input type="text" name="nombre_actividad[]" required>
          </div>
          <div class="form-group">
              <label for="fecha_actividad[]">Fecha de realización<span class="required"></span></label>
              <input type="date" name="fecha_actividad[]" required>
          </div>
          <div class="form-group">
              <label for="descripcion_actividad[]">Descripción de la actividad<span class="required"></span></label>
              <textarea name="descripcion_actividad[]" rows="4" required></textarea>
          </div>
          <h4>Proveedores y Servicios Contratados:</h4>
          <table class="proveedores-table">
              <thead>
                  <tr>
                      <th>Nombre del Proveedor</th>
                      <th>RUT</th>
                      <th>Servicio Prestado</th>
                      <th>Monto ($)</th>
                      <th>Acciones</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td><input type="text" name="proveedor_nombre_${actividadDifusionIndex}[]" required></td>
                      <td><input type="text" name="proveedor_rut_${actividadDifusionIndex}[]" required></td>
                      <td><input type="text" name="proveedor_servicio_${actividadDifusionIndex}[]" required></td>
                      <td><input type="number" name="proveedor_monto_${actividadDifusionIndex}[]" min="0" step="0.01" required></td>
                      <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
                  </tr>
              </tbody>
          </table>
          <button type="button" class="add-row-btn" onclick="agregarFilaProveedor(this)">Agregar Proveedor</button>
          <h4>Medios de Difusión Utilizados:</h4>
          <div class="form-group">
              <label for="medios_difusion[]">Seleccione los medios de difusión utilizados:</label>
              <div class="checkbox-group">
                  <label><input type="checkbox" name="medios_difusion_${actividadDifusionIndex}[]" value="Radio"> Radio</label>
                  <label><input type="checkbox" name="medios_difusion_${actividadDifusionIndex}[]" value="Televisión"> Televisión</label>
                  <label><input type="checkbox" name="medios_difusion_${actividadDifusionIndex}[]" value="Prensa Escrita"> Prensa Escrita</label>
                  <label><input type="checkbox" name="medios_difusion_${actividadDifusionIndex}[]" value="Redes Sociales"> Redes Sociales</label>
                  <label><input type="checkbox" name="medios_difusion_${actividadDifusionIndex}[]" value="Otro"> Otro</label>
              </div>
          </div>
          <div class="form-group">
              <label for="evidencia_difusion[]">Adjuntar evidencia de la difusión realizada<span class="required"></span></label>
              <input type="file" name="evidencia_difusion_${actividadDifusionIndex}[]" accept="image/*,application/pdf,audio/*,video/*" multiple required>
              <small>Puede adjuntar imágenes, documentos PDF, audios o videos.</small>
          </div>
      `;
        actividadesContainer.appendChild(actividadDiv);
        actualizarActividadHeaders();
      }

      function eliminarActividad(button) {
        const actividadDiv = button.parentElement.parentElement;
        actividadDiv.remove();
        actualizarActividadHeaders();
      }

      function actualizarActividadHeaders() {
        const actividades = document
          .getElementById("actividades-difusion-container")
          .getElementsByClassName("actividad-difusion");
        for (let i = 0; i < actividades.length; i++) {
          const header = actividades[i].querySelector(".section-header h4");
          header.textContent = `Actividad ${i + 1}`;
        }
      }

      function agregarFilaProveedor(button) {
        const proveedoresTable = button.previousElementSibling;
        const tbody = proveedoresTable.querySelector("tbody");
        const actividadDiv = button.closest(".actividad-difusion");
        const actividadTables = Array.from(
          document
            .getElementById("actividades-difusion-container")
            .getElementsByClassName("actividad-difusion")
        );
        const actividadIndexLocal = actividadTables.indexOf(actividadDiv);
        const newRow = document.createElement("tr");

        newRow.innerHTML = `
          <td><input type="text" name="proveedor_nombre_${actividadIndexLocal}[]" required></td>
          <td><input type="text" name="proveedor_rut_${actividadIndexLocal}[]" required></td>
          <td><input type="text" name="proveedor_servicio_${actividadIndexLocal}[]" required></td>
          <td><input type="number" name="proveedor_monto_${actividadIndexLocal}[]" min="0" step="0.01" required></td>
          <td><button type="button" class="remove-row-btn" onclick="eliminarFila(this)">Eliminar</button></td>
      `;
        tbody.appendChild(newRow);
      }

      function eliminarFila(button) {
        const row = button.parentElement.parentElement;
        row.parentElement.removeChild(row);
      }
    </script>

    <!-- Anexo 8 -->
    <div id="anexo8" class="container">
      <h1>ANEXO N°8 (OBLIGATORIO)</h1>
      <h2>INFORME FINAL DE GESTIÓN</h2>

      <form action="#" method="POST">
        <h3>Objetivos del Proyecto:</h3>
        <div class="form-group">
          <p>
            En opinión de la institución, ¿se logró dar cumplimiento a los
            objetivos del proyecto?
          </p>
          <div class="radio-group">
            <label>
              <input
                type="radio"
                name="cumplimiento_objetivos"
                value="si"
                required
              />
              Sí
            </label>
            <label>
              <input
                type="radio"
                name="cumplimiento_objetivos"
                value="no"
                required
              />
              No
            </label>
          </div>
        </div>
        <div class="form-group">
          <label for="detalle_objetivos"
            >Detalle y fundamento de la respuesta anterior
            <span class="required"></span
          ></label>
          <textarea
            id="detalle_objetivos"
            name="detalle_objetivos"
            rows="5"
            required
          ></textarea>
        </div>

        <hr />

        <h3>Beneficiarios:</h3>
        <div class="form-group">
          <label
            >Detalle el número de beneficiarios directos de la ejecución de la
            iniciativa (debe estar acorde a la lista de asistencia y otros
            medios de verificación):</label
          >
          <div class="form-group">
            <label for="beneficiarios_mujeres">Mujeres:</label>
            <input
              type="number"
              id="beneficiarios_mujeres"
              name="beneficiarios_mujeres"
              min="0"
              required
            />
          </div>
          <div class="form-group">
            <label for="beneficiarios_hombres">Hombres:</label>
            <input
              type="number"
              id="beneficiarios_hombres"
              name="beneficiarios_hombres"
              min="0"
              required
            />
          </div>
          <div class="form-group">
            <label for="beneficiarios_total">Total de beneficiarios:</label>
            <input
              type="number"
              id="beneficiarios_total"
              name="beneficiarios_total"
              min="0"
              readonly
            />
          </div>
        </div>

        <hr />

        <h3>Observaciones, Sugerencias y Comentarios Finales:</h3>
        <div class="form-group">
          <label for="observaciones"
            >Realice cualquier tipo de observación, sugerencias, manifieste
            cuáles fueron las principales dificultades para la realización del
            proyecto, principales logros, entre otros comentarios.
            <span class="required"></span
          ></label>
          <textarea
            id="observaciones"
            name="observaciones"
            rows="5"
            required
          ></textarea>
        </div>

        <hr />

        <h3>
          Evaluación relación Gobierno Regional de Ñuble - Institución
          beneficiaria:
        </h3>
        <table>
          <thead>
            <tr>
              <th>Criterios</th>
              <th>Nota (1 a 7)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                1. Oportuna convocatoria a las actividades de capacitación
              </td>
              <td>
                <input
                  type="number"
                  name="criterio1"
                  min="1"
                  max="7"
                  required
                />
              </td>
            </tr>
            <tr>
              <td>
                2. Calidad de la información entregada durante el proceso de
                postulación
              </td>
              <td>
                <input
                  type="number"
                  name="criterio2"
                  min="1"
                  max="7"
                  required
                />
              </td>
            </tr>
            <tr>
              <td>
                3. Rapidez en la respuesta entregada por los profesionales a las
                consultas formuladas
              </td>
              <td>
                <input
                  type="number"
                  name="criterio3"
                  min="1"
                  max="7"
                  required
                />
              </td>
            </tr>
            <tr>
              <td>
                4. Disposición para responder dudas durante el proceso de
                ejecución y rendición
              </td>
              <td>
                <input
                  type="number"
                  name="criterio4"
                  min="1"
                  max="7"
                  required
                />
              </td>
            </tr>
            <tr>
              <td>
                5. Comunicación con el Gobierno Regional para la coordinación de
                actividad de lanzamiento/cierre
              </td>
              <td>
                <input
                  type="number"
                  name="criterio5"
                  min="1"
                  max="7"
                  required
                />
              </td>
            </tr>
          </tbody>
        </table>

        <hr />

        <div class="form-group">
          <label for="nombre_representante_legal"
            >Nombre representante legal <span class="required"></span
          ></label>
          <input
            type="text"
            id="nombre_representante_legal"
            name="nombre_representante_legal"
            required
          />
        </div>
        <div class="form-group">
          <label for="firma_timbre"
            >Firma y Timbre <span class="required"></span
          ></label>
          <input
            type="file"
            id="firma_timbre"
            name="firma_timbre"
            accept="image/*,application/pdf"
            required
          />
          <small class="small-text"
            >Suba su firma y timbre en formato JPG, PNG o PDF</small
          >
        </div>

        <button type="submit" class="submit-btn">
          Enviar Informe Final de Gestión
        </button>
      </form>
    </div>

    <script>
      // Calcula el total de beneficiarios cuando cambian los valores de mujeres u hombres
      const mujeresInput = document.getElementById("beneficiarios_mujeres");
      const hombresInput = document.getElementById("beneficiarios_hombres");
      const totalInput = document.getElementById("beneficiarios_total");

      function calcularTotal() {
        const mujeres = parseInt(mujeresInput.value) || 0;
        const hombres = parseInt(hombresInput.value) || 0;
        totalInput.value = mujeres + hombres;
      }

      mujeresInput.addEventListener("input", calcularTotal);
      hombresInput.addEventListener("input", calcularTotal);
    </script>
    <!-- Shared JavaScript -->
    <script>
      // Combined JavaScript functions
      // For example, functions to calculate totals in Anexo N°2
      // Function to calculate the saldo and total amounts
      function calculateAnexo2Totals() {
        const gastosHonorariosAprobado =
          parseFloat(
            document.querySelector('input[name="gastos_honorarios_aprobado"]')
              .value
          ) || 0;
        const gastosEquipamientoAprobado =
          parseFloat(
            document.querySelector('input[name="gastos_equipamiento_aprobado"]')
              .value
          ) || 0;
        const gastosGestionAprobado =
          parseFloat(
            document.querySelector('input[name="gastos_gestion_aprobado"]')
              .value
          ) || 0;
        const gastosDifusionAprobado =
          parseFloat(
            document.querySelector('input[name="gastos_difusion_aprobado"]')
              .value
          ) || 0;

        const gastosHonorariosRendicion =
          parseFloat(
            document.querySelector('input[name="gastos_honorarios_rendicion"]')
              .value
          ) || 0;
        const gastosEquipamientoRendicion =
          parseFloat(
            document.querySelector(
              'input[name="gastos_equipamiento_rendicion"]'
            ).value
          ) || 0;
        const gastosGestionRendicion =
          parseFloat(
            document.querySelector('input[name="gastos_gestion_rendicion"]')
              .value
          ) || 0;
        const gastosDifusionRendicion =
          parseFloat(
            document.querySelector('input[name="gastos_difusion_rendicion"]')
              .value
          ) || 0;

        // Calculate saldos
        document.querySelector('input[name="gastos_honorarios_saldo"]').value =
          (gastosHonorariosAprobado - gastosHonorariosRendicion).toFixed(2);
        document.querySelector(
          'input[name="gastos_equipamiento_saldo"]'
        ).value = (
          gastosEquipamientoAprobado - gastosEquipamientoRendicion
        ).toFixed(2);
        document.querySelector('input[name="gastos_gestion_saldo"]').value = (
          gastosGestionAprobado - gastosGestionRendicion
        ).toFixed(2);
        document.querySelector('input[name="gastos_difusion_saldo"]').value = (
          gastosDifusionAprobado - gastosDifusionRendicion
        ).toFixed(2);

        // Calculate totals
        const totalAprobado =
          gastosHonorariosAprobado +
          gastosEquipamientoAprobado +
          gastosGestionAprobado +
          gastosDifusionAprobado;
        const totalRendicion =
          gastosHonorariosRendicion +
          gastosEquipamientoRendicion +
          gastosGestionRendicion +
          gastosDifusionRendicion;
        const totalSaldo = totalAprobado - totalRendicion;

        document.querySelector('input[name="totales_aprobado"]').value =
          totalAprobado.toFixed(2);
        document.querySelector('input[name="totales_rendicion"]').value =
          totalRendicion.toFixed(2);
        document.querySelector('input[name="totales_saldo"]').value =
          totalSaldo.toFixed(2);
      }

      // Add event listeners to recalculate totals when input changes
      const anexo2Inputs = document.querySelectorAll(
        '#anexo2 input[type="number"]'
      );
      anexo2Inputs.forEach((input) => {
        input.addEventListener("input", calculateAnexo2Totals);
      });

      // Initial calculation
      calculateAnexo2Totals();
    </script>
  </body>
</html>
